<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	th:replace="layout/admin :: mainContentAdmin('INDEX HOTEL', ~{this :: #main-content},~{this:: #css},~{this :: #script})">
<style>
	table {
		width: 100%;
		border-collapse: collapse;
	}

	table,
	th,
	td {
		border: 1px solid black;
	}

	th,
	td {
		padding: 8px;
		text-align: left;
	}

	th {
		background-color: #f2f2f2;
	}
</style>

<head>

</head>

<body>
	<div id="css">

	</div>
	<div id="main-content">
		<div class="container">

			<div class="card">
				<div class="card-header">

				<h3>Booking List</h3>
				</div>
				<div class="card-body">
					<table class="table table-bordered table-hover dataTable dtr-inline mb-5 " id="table1">
						<thead>
							<tr>
								<th>Code Bill</th>
								<th>Sender</th>
								<th>Room</th>
								<th>Main Guest</th>
								<th>Number Of Night</th>
								<th>Total</th>
								<th>Status</th>
								<th>Confirm</th>
								<th>Action</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="bill_ : ${bill_1}">
								<td th:text="${bill_.id}"></td>
								<td th:text="${bill_.bill.account.email}"></td>
								<td th:text="${bill_.room.name}"></td>
								<td th:text="${bill_.bill.mainGuest}"></td>
								<td th:text="${bill_.numberDay}"></td>
								<td th:text="${bill_.bill.total}"></td>
								<td
									th:text="${bill_.bill.status == '1' ? 'Paid' : bill_.bill.status == '2' ?  'Live In' : bill_.bill.status == '3' || bill_.bill.status == '4' ? 'Completed And Evaluated' : 'Canceled'}">
								</td>
								<td>
									<a th:href="@{'/admin/billdetail/edit/' + ${bill_.id}}"
										th:text="${bill_.bill.status == '1' ? 'Check In' : bill_.bill.status == '2' ?  'Check Out' :
										 bill_.bill.status == '3' ? 'Complete' : bill_.bill.status == '4' ? 'Complete And Evaluated' : 'Canceled'}"></a>
								</td>
								<td>
									<a th:href="@{'/admin/billdetail/' + ${bill_.id}}">Details</a> |
									<a id="cancelLink" class="btn btn-primary" th:href="@{'/admin/billdetail/cancel/' + ${bill_.id}}">Cancel</a>


								</td>
							</tr>
							<!-- Add more rows for additional reservations -->
						</tbody>
					</table>
				</div>
			</div>

			<div class="card">
				<div class="card-header">
					<h2>Live In</h2>
				</div>
				<div class="card-body">
					<table class="table table-bordered table-hover dataTable dtr-inline mb-5 " id="table2">
						<thead>
							<tr>
								<th>Code Bill</th>
								<th>Sender</th>
								<th>Room</th>
								<th>Main Guest</th>
								<th>Number Of Night</th>
								<th>Total</th>
								<th>Status</th>
								<th>Confirm</th>
								<th>Action</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="bill_ : ${bill_2}">
								<td th:text="${bill_.id}"></td>
								<td th:text="${bill_.bill.account.email}"></td>
								<td th:text="${bill_.room.name}"></td>
								<td th:text="${bill_.bill.mainGuest}"></td>
								<td th:text="${bill_.numberDay}"></td>
								<td th:text="${bill_.bill.total}"></td>
								<td
									th:text="${bill_.bill.status == '1' ? 'Paid' : bill_.bill.status == '2' ?  'Live In' : bill_.bill.status == '3' || bill_.bill.status == '4' ? 'Completed And Evaluated' : 'Canceled'}">
								</td>
								<td>
									<a th:href="@{'/admin/billdetail/edit/' + ${bill_.id}}"
										th:text="${bill_.bill.status == '1' ? 'Check In' : bill_.bill.status == '2' ?  'Check Out' :
										 bill_.bill.status == '3' ? 'Complete' : bill_.bill.status == '4' ? 'Complete And Evaluated' : 'Canceled'}"></a>
								</td>
								<td>
									<a th:href="@{'/admin/billdetail/' + ${bill_.id}}">Details</a> 
								</td>
							</tr>
							<!-- Add more rows for additional reservations -->
						</tbody>
					</table>
				</div>
			</div>
			<div class="card">
				<div class="card-header">
					<h2>Completed</h2>
				</div>
				<div class="card-body">
					<table class="table table-bordered table-hover dataTable dtr-inline mb-5 " id="table3">
						<thead>
							<tr>
								<th>Code Bill</th>
								<th>Sender</th>
								<th>Room</th>
								<th>Main Guest</th>
								<th>Number Of Night</th>
								<th>Total</th>
								<th>Status</th>
								<th>Action</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="bill_ : ${bill_3_4}">
								<td th:text="${bill_.id}"></td>
								<td th:text="${bill_.bill.account.email}"></td>
								<td th:text="${bill_.room.name}"></td>
								<td th:text="${bill_.bill.mainGuest}"></td>
								<td th:text="${bill_.numberDay}"></td>
								<td th:text="${bill_.bill.total}"></td>
								<td
									th:text="${bill_.bill.status == '1' ? 'Paid' : bill_.bill.status == '2' ?  'Live In' : bill_.bill.status == '3' || bill_.bill.status == '4' ? 'Completed And Evaluated' : 'Canceled'}">
								</td>
		
								<td>
									<a th:href="@{'/admin/billdetail/' + ${bill_.id}}">Details</a> 
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
			<div class="card">
				<div class="card-header">
					<h2>Canceled</h2>
				</div>
				<div class="card-body">
					<table class="table table-bordered table-hover dataTable dtr-inline mb-5 " id="table4">
						<thead>
							<tr>
								<th>Code Bill</th>
								<th>Sender</th>
								<th>Room</th>
								<th>Main Guest</th>
								<th>Number Of Night</th>
								<th>Total</th>
								<th>Status</th>
								<th>Action</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="bill_ : ${bill_5}">
								<td th:text="${bill_.id}"></td>
								<td th:text="${bill_.bill.account.email}"></td>
								<td th:text="${bill_.room.name}"></td>
								<td th:text="${bill_.bill.mainGuest}"></td>
								<td th:text="${bill_.numberDay}"></td>
								<td th:text="${bill_.bill.total}"></td>
								<td
									th:text="${bill_.bill.status == '1' ? 'Paid' : bill_.bill.status == '2' ?  'Live In' : bill_.bill.status == '3' || bill_.bill.status == '4' ? 'Completed And Evaluated' : 'Canceled'}">
								</td>
		
								<td>
									<a th:href="@{'/admin/billdetail/' + ${bill_.id}}">Details</a> 
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
	<div id="script">
		<script>
			$(function () {
				$("#table1").DataTable({
					"buttons": ["copy", "csv", "excel", "pdf", "print", "colvis"]
				}).buttons().container().appendTo('#table1_wrapper .col-md-6:eq(0)');


				//table2
				$("#table2").DataTable({
					"buttons": ["copy", "csv", "excel", "pdf", "print", "colvis"]
				}).buttons().container().appendTo('#table2_wrapper .col-md-6:eq(0)');

				//table3
				$("#table4").DataTable({
					"buttons": ["copy", "csv", "excel", "pdf", "print", "colvis"]
				}).buttons().container().appendTo('#table3_wrapper .col-md-6:eq(0)');
				
				//table4
				$("#table4").DataTable({
					"buttons": ["copy", "csv", "excel", "pdf", "print", "colvis"]
				}).buttons().container().appendTo('#table4_wrapper .col-md-6:eq(0)');
				
			});
		</script>
		<script>
			document.addEventListener("DOMContentLoaded", function() {
			document.getElementById("cancelLink").addEventListener("click", function(event) {
			event.preventDefault();
			
			var confirmed = confirm("Are you sure?");
			
			if (confirmed) {
				window.location.href = this.getAttribute("href");
			}
		});
		});
				
		</script>

	</div>
</body>

</html>